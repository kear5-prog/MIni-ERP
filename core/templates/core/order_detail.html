{% extends "core/base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>SO-{{ order.id }}</h3>
  <div class="d-flex gap-2">
    {% if order.status != "confirmed" %}
      <a class="btn btn-success" href="{% url 'order_confirm' order.pk %}">Confirm</a>
    {% endif %}
    <a class="btn btn-secondary" href="{% url 'order_list' %}">Back</a>
  </div>
</div>

<div class="card card-body mb-3">
  <div><b>Customer:</b> {{ order.customer.name }}</div>
  <div><b>Status:</b> {{ order.get_status_display }}</div>
  <div><b>Date:</b> {{ order.created_at }}</div>
  <div><b>Total:</b> {{ order.total_amount }}</div>
</div>

<table class="table table-striped bg-white">
  <thead><tr><th>Product</th><th>Qty</th><th>Unit Price</th></tr></thead>
  <tbody>
    {% for it in items %}
      <tr>
        <td>{{ it.product.sku }} - {{ it.product.name }}</td>
        <td>{{ it.quantity }}</td>
        <td>{{ it.unit_price }}</td>
      </tr>
    {% empty %}
      <tr><td colspan="3">No lines</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
